---
description:
globs:
alwaysApply: false
---
# Toast ì•Œë¦¼ ì‹œìŠ¤í…œ ê°€ì´ë“œ

## ê°œìš”
WebPrinterì˜ Toast ì•Œë¦¼ ì‹œìŠ¤í…œì€ ì‚¬ìš©ìžì—ê²Œ ì‹¤ì‹œê°„ìœ¼ë¡œ ì‹œìŠ¤í…œ ìƒíƒœì™€ ìž‘ì—… ì§„í–‰ ìƒí™©ì„ ì‹œê°ì ìœ¼ë¡œ ì•Œë ¤ì£¼ëŠ” UI ì»´í¬ë„ŒíŠ¸ìž…ë‹ˆë‹¤.

## Toast ì‹œìŠ¤í…œ êµ¬ì¡°

### ìœ„ì¹˜ ë° ìŠ¤íƒ€ì¼
- **ìœ„ì¹˜**: í™”ë©´ ìš°ì¸¡ ìƒë‹¨ ê³ ì •
- **z-index**: 10000 (ìµœìƒìœ„ ë ˆì´ì–´)
- **ì• ë‹ˆë©”ì´ì…˜**: ìŠ¬ë¼ì´ë“œ ì¸/ì•„ì›ƒ íš¨ê³¼
- **ìžë™ ì œê±°**: ì„¤ì •ëœ ì‹œê°„ í›„ ìžë™ ì‚¬ë¼ì§

### Toast íƒ€ìž…ë³„ ìƒ‰ìƒ ì²´ê³„
```javascript
const colors = {
    success: 'linear-gradient(135deg, #28a745, #20c997)',  // ë…¹ìƒ‰
    error: 'linear-gradient(135deg, #dc3545, #fd7e14)',    // ë¹¨ê°„ìƒ‰
    warning: 'linear-gradient(135deg, #ffc107, #fd7e14)',  // ì£¼í™©ìƒ‰
    info: 'linear-gradient(135deg, #007bff, #6f42c1)'      // íŒŒëž€ìƒ‰
};
```

## ê¸°ë³¸ ì‚¬ìš©ë²•

### showToast() í•¨ìˆ˜
[print-preview.js](mdc:print-preview.js)ì— êµ¬í˜„ëœ ì „ì—­ í•¨ìˆ˜:

```javascript
showToast(message, type = 'info', duration = 3000)
```

**ë§¤ê°œë³€ìˆ˜**:
- `message`: í‘œì‹œí•  ë©”ì‹œì§€ í…ìŠ¤íŠ¸
- `type`: 'success', 'error', 'warning', 'info' ì¤‘ í•˜ë‚˜
- `duration`: í‘œì‹œ ì‹œê°„ (ë°€ë¦¬ì´ˆ, ê¸°ë³¸ê°’: 3000ms)

### ì‚¬ìš© ì˜ˆì‹œ
```javascript
// ì„±ê³µ ë©”ì‹œì§€ (4ì´ˆê°„ í‘œì‹œ)
showToast('âœ… ì¸ì‡„ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!', 'success', 4000);

// ì—ëŸ¬ ë©”ì‹œì§€ (5ì´ˆê°„ í‘œì‹œ)
showToast('âŒ í”„ë¦°í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤', 'error', 5000);

// ê²½ê³  ë©”ì‹œì§€ (3ì´ˆê°„ í‘œì‹œ)
showToast('âš ï¸ í”„ë¦°í„°ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”', 'warning', 3000);

// ì •ë³´ ë©”ì‹œì§€ (2ì´ˆê°„ í‘œì‹œ)
showToast('ðŸ“¡ ì„œë²„ ì •ë³´ ìˆ˜ì‹  ì™„ë£Œ', 'info', 2000);
```

## ì‹œìŠ¤í…œ í†µí•© ì‚¬ë¡€

### 1. IPC í†µì‹  ìƒíƒœ ì•Œë¦¼
```javascript
// IPC í†µì‹  ì ê²€ ê²°ê³¼
if (checks.totalPassed === checks.totalTests) {
    showToast(`âœ… IPC í†µì‹  ì •ìƒ ìž‘ë™ (${successRate}%)`, 'success', 4000);
} else if (checks.totalPassed >= checks.totalTests * 0.7) {
    showToast(`âš ï¸ IPC í†µì‹  ë¶€ë¶„ ìž‘ë™ (${successRate}%)`, 'warning', 5000);
} else {
    showToast(`âŒ IPC í†µì‹  ì‹¬ê°í•œ ë¬¸ì œ (${successRate}%)`, 'error', 6000);
}
```

### 2. ì¸ì‡„ í”„ë¡œì„¸ìŠ¤ ë‹¨ê³„ë³„ ì•Œë¦¼
```javascript
// ì¸ì‡„ ì‹œìž‘
showToast('ðŸ” ì¸ì‡„ ì‹œìŠ¤í…œ ì ê²€ ì¤‘...', 'info', 2000);

// ì¸ì‡„ ìš”ì²­ ì „ì†¡
showToast('ðŸ–¨ï¸ ì¸ì‡„ ìš”ì²­ ì „ì†¡ ì¤‘...', 'info', 3000);

// ì¸ì‡„ ì„±ê³µ
showToast('âœ… í”„ë¦°íŠ¸ ëŒ€í™”ìƒìžê°€ ì—´ë ¸ìŠµë‹ˆë‹¤!', 'success', 4000);

// ì¸ì‡„ ì‹¤íŒ¨
showToast(`âŒ ì¸ì‡„ ì‹¤íŒ¨: ${error.message}`, 'error', 5000);
```

### 3. ì—…ë°ì´íŠ¸ í”„ë¡œì„¸ìŠ¤ ì•Œë¦¼
```javascript
// ìƒˆ ë²„ì „ ë°œê²¬
showToast(`ðŸ†• ìƒˆ ë²„ì „ ë°œê²¬: v${info.version}`, 'info', 4000);

// ë‹¤ìš´ë¡œë“œ ì§„í–‰ë¥  (25% ê°„ê²©ìœ¼ë¡œ)
if (percent % 25 === 0) {
    showToast(`ðŸ“¥ ì—…ë°ì´íŠ¸ ë‹¤ìš´ë¡œë“œ ${percent}%`, 'info', 1500);
}

// ë‹¤ìš´ë¡œë“œ ì™„ë£Œ
showToast('âœ… ì—…ë°ì´íŠ¸ ë‹¤ìš´ë¡œë“œ ì™„ë£Œ!', 'success', 4000);

// ì„¤ì¹˜ ì‹œìž‘
showToast('ðŸ”„ ì—…ë°ì´íŠ¸ ì„¤ì¹˜ ì¤‘...', 'info', 3000);
```

### 4. í”„ë¦°í„° ê´€ë¦¬ ì•Œë¦¼
```javascript
// í”„ë¦°í„° ëª©ë¡ ë¡œë“œ
showToast('ðŸ–¨ï¸ í”„ë¦°í„° ëª©ë¡ í™•ì¸ ì¤‘...', 'info', 2000);

// í”„ë¦°í„° ë°œê²¬
showToast(`âœ… í”„ë¦°í„° ${availablePrinters.length}ê°œ ë°œê²¬`, 'success', 2500);

// í”„ë¦°í„° ë¡œë“œ ì‹¤íŒ¨
showToast('âŒ í”„ë¦°í„° ëª©ë¡ ë¡œë“œ ì‹¤íŒ¨', 'error', 4000);
```

## ê³ ê¸‰ ì‚¬ìš©ë²•

### 1. ì¡°ê±´ë¶€ Toast í‘œì‹œ
```javascript
// ì¤‘ìš”í•œ ë©”ì‹œì§€ë§Œ Toastë¡œ í‘œì‹œ
function conditionalToast(level, message, type, duration) {
    if (level >= LOG_LEVEL_TOAST) {
        showToast(message, type, duration);
    }
    console.log(message); // í•­ìƒ ì½˜ì†”ì—ëŠ” ê¸°ë¡
}
```

### 2. Toast í ê´€ë¦¬
```javascript
// ì—°ì†ì ì¸ Toast ë©”ì‹œì§€ ê´€ë¦¬
const toastQueue = [];
let isProcessingToast = false;

function queueToast(message, type, duration) {
    toastQueue.push({ message, type, duration });
    if (!isProcessingToast) {
        processToastQueue();
    }
}

async function processToastQueue() {
    isProcessingToast = true;
    while (toastQueue.length > 0) {
        const { message, type, duration } = toastQueue.shift();
        showToast(message, type, duration);
        await new Promise(resolve => setTimeout(resolve, duration + 500));
    }
    isProcessingToast = false;
}
```

### 3. ìƒíƒœë³„ Toast ìŠ¤íƒ€ì¼ ì»¤ìŠ¤í„°ë§ˆì´ì§•
```javascript
function showStatusToast(status, message, details = null) {
    const configs = {
        connecting: { 
            type: 'info', 
            duration: 2000, 
            icon: 'ðŸ”„' 
        },
        connected: { 
            type: 'success', 
            duration: 3000, 
            icon: 'âœ…' 
        },
        error: { 
            type: 'error', 
            duration: 5000, 
            icon: 'âŒ' 
        },
        warning: { 
            type: 'warning', 
            duration: 4000, 
            icon: 'âš ï¸' 
        }
    };
    
    const config = configs[status];
    const fullMessage = `${config.icon} ${message}`;
    showToast(fullMessage, config.type, config.duration);
    
    if (details) {
        console.log(`${status.toUpperCase()}: ${message}`, details);
    }
}
```

## ì‚¬ìš©ìž ê²½í—˜ ìµœì í™”

### 1. ì ì ˆí•œ ì§€ì† ì‹œê°„ ì„¤ì •
```javascript
// ë©”ì‹œì§€ íƒ€ìž…ë³„ ê¶Œìž¥ ì§€ì† ì‹œê°„
const TOAST_DURATIONS = {
    quickInfo: 1500,      // ë¹ ë¥¸ ì •ë³´ (ë²„ì „ í™•ì¸ ë“±)
    normalInfo: 2000,     // ì¼ë°˜ ì •ë³´ (ì„œë²„ ì—°ê²° ë“±)
    success: 3000,        // ì„±ê³µ ë©”ì‹œì§€
    warning: 4000,        // ê²½ê³  ë©”ì‹œì§€
    error: 5000,          // ì—ëŸ¬ ë©”ì‹œì§€
    critical: 8000        // ì¤‘ìš”í•œ ì˜¤ë¥˜
};
```

### 2. ì´ëª¨ì§€ í™œìš© ê°€ì´ë“œ
```javascript
// ìƒí™©ë³„ ì´ëª¨ì§€ ê¶Œìž¥ ì‚¬í•­
const TOAST_EMOJIS = {
    // ì‹œìŠ¤í…œ ìƒíƒœ
    connecting: 'ðŸ”„',
    connected: 'âœ…',
    disconnected: 'ðŸ“¡',
    
    // ì¸ì‡„ ê´€ë ¨
    printing: 'ðŸ–¨ï¸',
    printSuccess: 'âœ…',
    printError: 'âŒ',
    
    // íŒŒì¼ ê´€ë ¨
    loading: 'ðŸ“„',
    saving: 'ðŸ’¾',
    
    // ì—…ë°ì´íŠ¸ ê´€ë ¨
    updateFound: 'ðŸ†•',
    downloading: 'ðŸ“¥',
    installing: 'ðŸ”„',
    
    // ì—ëŸ¬ ë ˆë²¨
    info: 'â„¹ï¸',
    warning: 'âš ï¸',
    error: 'âŒ',
    critical: 'ðŸš¨'
};
```

### 3. ì ‘ê·¼ì„± ê³ ë ¤ì‚¬í•­
```javascript
// ìŠ¤í¬ë¦° ë¦¬ë” ì§€ì›
function accessibleToast(message, type, duration) {
    showToast(message, type, duration);
    
    // ARIA ë¼ì´ë¸Œ ë¦¬ì „ì— ë©”ì‹œì§€ ì¶”ê°€
    const ariaLive = document.getElementById('aria-live-region');
    if (ariaLive) {
        ariaLive.textContent = message;
        // ë©”ì‹œì§€ ì½ê¸° ì™„ë£Œ í›„ ì •ë¦¬
        setTimeout(() => {
            ariaLive.textContent = '';
        }, duration);
    }
}
```

## ë””ë²„ê¹… ë° í…ŒìŠ¤íŠ¸

### 1. Toast í…ŒìŠ¤íŠ¸ í•¨ìˆ˜
```javascript
// ê°œë°œ í™˜ê²½ì—ì„œ Toast í…ŒìŠ¤íŠ¸
function testAllToastTypes() {
    const messages = [
        { msg: 'ì„±ê³µ ë©”ì‹œì§€ í…ŒìŠ¤íŠ¸', type: 'success' },
        { msg: 'ì—ëŸ¬ ë©”ì‹œì§€ í…ŒìŠ¤íŠ¸', type: 'error' },
        { msg: 'ê²½ê³  ë©”ì‹œì§€ í…ŒìŠ¤íŠ¸', type: 'warning' },
        { msg: 'ì •ë³´ ë©”ì‹œì§€ í…ŒìŠ¤íŠ¸', type: 'info' }
    ];
    
    messages.forEach((toast, index) => {
        setTimeout(() => {
            showToast(toast.msg, toast.type, 3000);
        }, index * 1000);
    });
}
```

### 2. Toast ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§
```javascript
// Toast í‘œì‹œ ì„±ëŠ¥ ì¸¡ì •
const toastPerformance = {
    count: 0,
    totalTime: 0,
    
    measure(callback) {
        const start = performance.now();
        callback();
        const end = performance.now();
        this.count++;
        this.totalTime += (end - start);
        
        if (this.count % 10 === 0) {
            console.log(`Toast í‰ê·  ë Œë”ë§ ì‹œê°„: ${this.totalTime / this.count}ms`);
        }
    }
};
```

## ë² ìŠ¤íŠ¸ í”„ëž™í‹°ìŠ¤

### 1. ë©”ì‹œì§€ ìž‘ì„± ê°€ì´ë“œ
- **ê°„ê²°ì„±**: í•µì‹¬ ì •ë³´ë§Œ í¬í•¨ (ìµœëŒ€ 50ìž ê¶Œìž¥)
- **ëª…í™•ì„±**: ì‚¬ìš©ìžê°€ ì´í•´í•˜ê¸° ì‰¬ìš´ ì–¸ì–´ ì‚¬ìš©
- **ì¼ê´€ì„±**: ë™ì¼í•œ ìƒí™©ì—ì„œëŠ” ë™ì¼í•œ ë©”ì‹œì§€ ì‚¬ìš©
- **í–‰ë™ ì§€í–¥**: í•„ìš”ì‹œ ë‹¤ìŒ í–‰ë™ì„ ì•ˆë‚´

### 2. íƒ€ì´ë° ìµœì í™”
```javascript
// ì¤‘ìš”ë„ì— ë”°ë¥¸ ì§€ì† ì‹œê°„ ì¡°ì ˆ
function smartToastDuration(message, type) {
    const baseTime = {
        'info': 2000,
        'success': 3000,
        'warning': 4000,
        'error': 5000
    };
    
    // ë©”ì‹œì§€ ê¸¸ì´ì— ë”°ë¥¸ ì¶”ê°€ ì‹œê°„
    const extraTime = Math.max(0, (message.length - 30) * 50);
    
    return baseTime[type] + extraTime;
}
```

### 3. ì‚¬ìš©ìž ì¸í„°ëž™ì…˜
```javascript
// í´ë¦­ìœ¼ë¡œ ì¦‰ì‹œ ë‹«ê¸° ê¸°ëŠ¥ (ì´ë¯¸ êµ¬í˜„ë¨)
toast.addEventListener('click', () => {
    toast.style.transform = 'translateX(400px)';
    toast.style.opacity = '0';
    setTimeout(() => {
        if (toast.parentNode) {
            toast.remove();
        }
    }, 300);
});
```
